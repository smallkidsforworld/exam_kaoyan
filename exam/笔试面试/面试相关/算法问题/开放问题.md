# 秒杀系统设计
   - 面对问题
      - 瞬时大流量高并发
      - 防止超卖

   - 解决方案
      - 前端
         - 页面静态话
         - 禁止重复提交
         - 用户限流.
      - 后端:
         - 将库存加载到redis中,调用desc命令:当返回正数表示扣减成功，抢购状态置为抢购成功，请求进入后续步骤。当返回负数时候，表示已经售卖完毕，关闭秒杀开关，请求中断。
      - 限制访问频率(针对uid)
      - 采用消息队列缓存请求
   - 消息队列设计:
   - 回答:   
      - 1:前端方面
         - 页面静态化,防止频繁想后端请求资源
         - 设置按钮为只允许提交一次
      - 2:后端
         - Nginx 限流:
         - 设置IP过滤器,每个IP只允许提交一次.
         - 提前将活动信息活动库存存入redis中,进行预热.
         - 用户发起请求,直接调用desc命令,看返回的value,小于0直接返回秒杀失败.
         - 大于0,订单支付推入消息队列,然后如果规定时间没有支付,返回信息,然后lncr,库存加一.
         - 支付后,对应请求进入消息队列.分发给不同的用户,进行对应的操作.

# 单点登录
 